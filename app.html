<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Family Case Tree â€“ App</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="./images/courthouse-logo.png" />
    <meta
      name="description"
      content="Track custody cases and visualize outcomes in an ancestry-style tree."
    />
  </head>
  <body>
    <header class="navbar">
      <div class="container">
        <div class="brand">
          <img
            src="./images/courthouse-logo.png"
            alt="Courthouse icon"
            class="logo"
            referrerpolicy="no-referrer"
          />
          <span class="brand-name">Family Case Tree</span>
        </div>
        <div class="nav-actions">
          <a href="index.html?force=1" class="btn btn--secondary" title="Go to sign-in page">Home</a>
        </div>
      </div>
    </header>

    <section
      class="hero"
      role="img"
      aria-label="Family tree themed banner background"
    >
      <div class="container hero__content">
        <div class="hero__title">
          <img
            class="section-icon"
            src="./images/scales-of-justice.png"
            alt="Scales of justice icon"
            referrerpolicy="no-referrer"
          />
          <h1>Track Custody Cases and Outcomes</h1>
        </div>
        <p class="hero__subtitle">
          Visualize each case through an ancestry-style decision tree.
        </p>
      </div>
    </section>

    <main class="container app">
      <aside class="sidebar" aria-label="Case Manager">
        <h2 class="sidebar__title">
          <img
            class="section-icon"
            src="./images/courthouse-logo.png"
            alt="Courthouse small icon"
            referrerpolicy="no-referrer"
          />
          Case Manager
        </h2>

        <img
          class="sidebar__hero"
          src="./images/man-in-cell.png"
          alt="Paper family cutouts suggesting genealogy"
          referrerpolicy="no-referrer"
          onerror="this.style.display='none'"
        />

        <form id="caseForm" class="form" autocomplete="off">
          <input type="hidden" id="caseIndex" value="-1" />

          <div class="form__row">
            <label for="fullName">Full Name</label>
            <input
              id="fullName"
              name="fullName"
              type="text"
              placeholder="e.g., Jane Doe"
              required
            />
          </div>

          <div class="form__row">
            <label for="dob">DOB</label>
            <input id="dob" name="dob" type="date" required />
          </div>

          <div class="form__row">
            <label for="custodyType">Custody Type</label>
            <select id="custodyType" name="custodyType" required>
              <option value="county">County</option>
              <option value="state">State</option>
              <option value="federal">Federal</option>
            </select>
          </div>

          <div class="form__row">
            <label for="facility">Facility</label>
            <input
              id="facility"
              name="facility"
              type="text"
              placeholder="e.g., Bergen County Jail"
              required
            />
          </div>

          <div class="form__row">
            <label for="nextCourtDate">Next Court Date</label>
            <input id="nextCourtDate" name="nextCourtDate" type="date" />
          </div>

          <div class="form__row">
            <label for="currentStage">Current Stage</label>
            <select id="currentStage" name="currentStage" required></select>
          </div>

          <div class="form__actions">
            <button id="saveCaseBtn" type="submit" class="btn btn--primary">
              Save / Update Case
            </button>
            <button id="newCaseBtn" type="button" class="btn btn--secondary">
              New
            </button>
            <button
              id="deleteCaseBtn"
              type="button"
              class="btn btn--danger"
              title="Delete current case"
            >
              Delete
            </button>
          </div>
        </form>

        <h3 class="sidebar__subtitle">
          <img
            class="section-icon"
            src="./images/Gavel-icon.png"
            alt="Gavel small icon"
            referrerpolicy="no-referrer"
          />
          Saved Cases
        </h3>

        <ul id="caseList" class="case-list" aria-live="polite"></ul>
      </aside>

      <section class="tree-panel">
        <div class="tree-header">
          <h2 class="tree-header__title">
            <img
              class="section-icon"
              src="./images/scales-of-justice.png"
              alt="Justice icon"
              referrerpolicy="no-referrer"
            />
            Case Tree Viewer
          </h2>
          <div class="tree-controls">
            <label class="compact-toggle"
              ><input type="checkbox" id="compactToggle" /> Compact Tree</label
            >
          </div>
          <div id="caseMeta" class="case-meta">No case loaded.</div>
        </div>

        <div id="treeScroll" class="tree-scroll">
          <div id="treeContainer" class="tree"></div>
        </div>
      </section>
    </main>

    <script src="script.js"></script>
    <noscript>This app requires JavaScript to function properly.</noscript>
  </body>
  </html>
